
<!DOCTYPE html>
<!--[if lt IE 9]><html class="no-js lt-ie9" lang="en" dir="ltr"><![endif]-->
<!--[if gt IE 8]><!--><html class="no-js" lang="en" dir="ltr"><!--<![endif]-->
<head>

	<title>EI Maternity and Parental Benefits - How much you could receive - Canada.ca</title>
	<link rel="stylesheet" href="../../../css/mobile-mm.css" />
	<link rel="stylesheet" href="../../../css/bootstrap.css" />
	<link rel="stylesheet" href="../../../css/desktop-mm.css" />
	<link rel="stylesheet" href="../../../css/fonts-plus-homepage.css" />
	<link rel="stylesheet" href="../../../css/min-WET.css" />
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous" />


	<meta charset="utf-8">
	<meta content="width=device-width,initial-scale=1" name="viewport">
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<meta content="width=device-width,initial-scale=1" name="viewport" />

	<link rel="schema.dcterms" href="http://purl.org/dc/terms/" />
	<meta name="description" content="Description" />
	<meta name="keywords" content="Keywords" />
	<meta name="author" content="Health Canada" />
	<meta property="dcterms:title" content="Health" />
	<meta property="dcterms:description" content="Description" />
	<meta property="dcterms:creator" content="Health Canada" />
	<meta property="dcterms:language" title="ISO639-2/T" content="eng" />
	<meta property="dcterms:subject" title="gccore" content="HE Health and Safety;Health" />
	<meta property="dcterms.modified" title="W3CDTF" content="2018--1-18" />
	<meta property="dcterms:spatial" content="Canada" />
	<meta property="dcterms:type" content="infosource" />
	<meta name="dcterms.source" content="aem" />
	<meta name="dcterms.identifier" content="Health_Canada" />
	<style>
		legend.with-explanation {
			margin-bottom:.1em;
		}
		p.form-explanation {
			margin-bottom: -.2em;
			line-height: 1.2!important;
			text-indent: .3em;
		}
		small {
			line-height: 1.2 !important;
		}
		legend {
			font-weight: bold;
		}
	</style>
</head>

<body class="content" vocab="http://schema.org/" typeof="WebPage">

<div class="global-header">

	<ul id="wb-tphp">
	<li class="wb-slc"><a class="wb-sl" href="#wb-cont">Skip to main content</a></li>
	<li class="wb-slc visible-sm visible-md visible-lg"><a class="wb-sl" href="#wb-info">Skip to &#34;About this site&#34;</a></li>
	</ul>

	<header role="banner">

		<div id="wb-bnr" class="container">

		  <section id="wb-lng" class="text-right">

			  <h2 class="wb-inv">Language selection</h2>

			  <div class="row">

				  <div class="col-md-12">

					  <ul class="list-inline margin-bottom-none">
					  <li><a lang="fr" href="#">Fran√ßais</a></li>
					  </ul>

				  </div><!-- col -->

				</div><!-- row -->

		  </section>

		  <div class="row">

			  <div class="brand col-xs-5 col-sm-5 col-md-4">

				  <a href="../../../en.html"><object type="image/svg+xml" tabindex="-1" data="https://www.canada.ca/etc/designs/canada/wet-boew/assets/sig-blk-en.svg"></object><span class="wb-inv"> Government of Canada</span></a>

				</div><!-- brand -->

			  <section id="wb-srch" class="text-right col-lg-8">

					<h2>Search</h2>

					<form action="../../../search-results.html" method="get" name="cse-search-box" role="search" class="form-inline">

						<div class="form-group">

							<label for="wb-srch-q" class="wb-inv">Search website</label>
							<input id="wb-srch-q" list="wb-srch-q-ac" class="wb-srch-q form-control" name="q" type="search" value="" size="34" maxlength="170" placeholder="Search Canada.ca">

							<datalist id="wb-srch-q-ac">
							<!--[if lte IE 9]><select><![endif]-->
							<!--[if lte IE 9]></select><![endif]-->
							</datalist>

						</div><!-- form-group -->

						<div class="form-group submit">

							<button type="submit" id="wb-srch-sub" class="btn btn-primary btn-small" name="wb-srch-sub" style="background-color: #26374a !important;"><span class="fas fa-search"></span><span class="wb-inv">Search</span></button>

						</div><!-- form-group submit -->

					</form>

				</section>

			</div><!-- row -->

		</div><!-- wb-bnr -->

		<div id="include-menu"></div><!-- include-menu -->

		<nav role="navigation" id="wb-bc" property="breadcrumb">

		  <h2 class="wb-inv">You are here:</h2>

		  <div class="container">

			<div class="row">

			  <ol class="breadcrumb">
			  <li class="cust-breadcrumb"><a href="../../../en.html">Home</a></li>
				 <li class="cust-breadcrumb"><a href="../../benefits.html">Benefits</a></li>
				 <li class="cust-breadcrumb"><a href="../ei.html">Employment Insurance and leave</a></li>

			  </ol>

			</div><!-- row -->

		  </div><!-- container -->

		</nav>

	</header>

</div><!-- global-header -->



<main role="main" property="mainContentOfPage" class="container">



	    <h1 property="name" id="wb-cont" dir="ltr">
	EI maternity and parental benefits - How much you could receive</h1>

	<section id="archived" class="wb-inv alert alert-warning wb-inview" data-inview="archived-bnr">

</section>
<section id="archived-bnr" style="display:none" class="wb-overlay modal-content overlay-def wb-bar-t">
<header>
<h2 class="wb-inv">Archived</h2>
</header>
<p><a href="#archived">This is page is in lockdown for review - deadline November 27th: 2:00PM </a></p>
</section>


	        <div><div class="mwsgeneric-base-html parbase section">



	    <div>
	  <div class="mrgn-tp-md mrgn-bttm-sm brdr-bttm">
	    <div class="row mrgn-bttm-sm">
	      <ul class="toc lst-spcd col-md-12">
					<li class="col-md-4">
						<a href="./ei-maternity-parental.html" class="list-group-item">What these benefits offer</a>
					</li>
					<li class="col-md-4">
						<a href="./eligibility.html" class="list-group-item">Eligibility</a>
					</li>
					<li class="col-md-4">
						<a href="./benefit-amount.html" class="list-group-item cust-active active">How much you could receive</a>
					</li>
					<li class="col-md-4">
						<a href="./apply.html" class="list-group-item">Apply</a>
					</li>
					<li class="col-md-4">
						<a href="./after-applying.html" class="list-group-item">After you've applied</a>
					</li>
					<li class="col-md-4">
						<a href="./special-circumstances.html" class="list-group-item">Special circumstances</a>
					</li>

	      </ul>
	    </div>
	  </div>
	<div class="row bullet">
	<div class="col-md-8">
	<h2 class="mrgn-tp-0">
	How much you could receive</h2>
<!--

		<p>
			How many weeks of benefits you get depends on what leave options you choose. How much money you get depends on your insurable earnings, up to a maximum amount.</p>
			<p> &#8220;Insurable earnings&#8221; means income you paid EI premiums on, including tips, bonuses and commissions. </p>


<h2>Estimate your benefits</h2> -->

		<p>
			We can't tell you exactly how much you will receive until your application is processed. We use any income you paid EI premiums on to calculate your benefits. This can include tips, bonuses or commissions. </p>


					<h3 id="variable-explanation">If your weekly earnings vary or your income changes</h3>

					<p>If your weekly income is higher some weeks than others, a specific number of your highest paying weeks are used to calculate your benefits. We call these your "best weeks." </p>

										<h4>Find your number of "best weeks"</h4>



										<p id="bestweeks">Enter your postal code to find out your number of best weeks. How many weeks we use depends on the unemployment rate where you live.</p>

										<div class="form-group">
											<label for="postalcode">Postal code</label><br />
											<input type="text" id="postalcode" size='10' maxlength="7">
											<input type="button" name="postalcheck" id="postalcheck" value="Get your best weeks" class="btn" style="background-color: #DCDBDD; font-family: 'Lato'; font-size: 19px !important; padding-bottom: 35px !important;">
										</div>

										<div id="bestweeksresult" style="display:none">
											<p>For <b><span id="u-pcode"></span></b>, we use <b><span id="u-bestweeks"></span></b> weeks.</p>
										</div>

										<div id="askbestweekincome" style="display:none">
											<p>To complete your estimate, you will need to know your average insurable earnings (before taxes) for those weeks.</p><p class="wb-inv"> add up your total insurable earnings from your highest paying <span id="u-bestweeks2"></span> weeks.</p>
											<div class="formgroup">
											<label for="earnings">Add up what you earned in your highest paying <span id="u-bestweeks3"></span> weeks</label><br />
											<input type="text" id="earnings" size='15'>
											<input type="button" name="averagecalc" id="averagecalc" value="Get average" class="btn" style="background-color: #DCDBDD; font-family: 'Lato'; font-size: 19px !important; padding-bottom: 35px !important;">
											</div>
										</div>

										<div id="averageresult" style="display:none ">
											<p><b>$<span id="u-totalEarnings"></span></b> divided by <span id="u-bestweeks4"></span> weeks = <br />
												<b>$<span id="u-avgWeekly"></span></b> average weekly earnings</p>

												<p>We have added this number to the estimator below for you.</p>


										</div>

	<br>

	<h2>Estimate your benefits</h2>


						<p>Answer a few questions to estimate your weekly payments and how long you could get them, or you can see the <a href="#formula">formula</a> we use to determine benefits.</p>

		<fieldset style="border-top: 0px solid #fff !important;">

<legend class="required" aria-required="true">Enter your annual salary <strong>or</strong> your average weekly earnings  <strong class="required" aria-required="true"><small>(required)</small></strong></legend>



		<div class="form-group">
			<label for="annualincome">Annual salary (before taxes)</label><br />
			<input type="text" id="annualincome" size='7'>
		</div>
		<p style="margin-top:-.5em; margin-bottom:0">Or</p>

		<div class="form-group">
			<label for="weeklyincome">Average weekly earnings (before taxes)</label><br />
			<input type="text" id="weeklyincome" size='5'> /week
		</div>
		</fieldset>


<br>

		<div class="form-group">
			<fieldset>
				<legend class="required with-explanation" aria-required="true">Which benefits are you applying for? <strong class="required" aria-required="true"><small>(required)</small></strong></legend>
				<p class="form-explanation"><small>The person giving birth will usually take both</small></p>
				<div class="checkbox">
							<label for="matandparental"><input checked="checked" type="checkbox" name="matorpar" value="matandparental" id="matandparental" />&#160;&#160;Maternity (for the person giving birth only)</label>
				</div>
				<div class="checkbox">
							<label for="parentalonly"><input checked="checked" type="checkbox" name="matorpar" value="parentalonly" id="parentalonly" />&#160;&#160;Parental (for any parent)</label>
				</div>
			</fieldset>
		</div>

		<div class="form-group">
			<fieldset>
				<legend class="required with-explanation" aria-required="true">What type of parental benefits will you take? <strong class="required" aria-required="true"><small>(required)</small></strong></legend>
				<p class="form-explanation"><small>The total amount is similar, but you can decide how you receive your benefits</small></p>
				<div class="radio">
							<label for="standard"><input  type="radio" name="leavetype" value="standard" id="standard" />&#160;&#160;
								<!-- Standard (up to $547 per week for up to 35 weeks + 5 if sharing) -->
								Standard (higher payments, for a shorter duration)
							</label>
				</div>
				<div class="radio">
							<label for="extended"><input  type="radio" name="leavetype" value="extended" id="extended" />&#160;&#160;
								<!-- Extended (up to $328 per week for up to 61 weeks + 8 if sharing) -->
								Extended (lower payments, for a longer duration)
							</label>
				</div>

			</fieldset>
		</div>

		<!-- not needed with week <div class="form-group">
			<fieldset>
				<legend>Will you be sharing parental benefits?</legend>

				<div class="radio">
							<label for="yes"><input  type="radio" name="willushare" value="yes" id="yes" />&#160;&#160;Yes</label>
				</div>
				<div class="radio">
							<label for="extended"><input  type="radio" name="willushare" value="no" id="no" />&#160;&#160;No</label>
				</div>
			</fieldset>
		</div> -->

		<div class="form-group">
			<fieldset>
			<legend class="required with-explanation" aria-required="true">How many weeks of parental leave will you share? <strong class="required" aria-required="true"><small>(required)</small></strong></legend>
			<p class="form-explanation"><small>If you share benefits, more weeks of benefits are available</small></p>
			<input type="text" id="sharedweeks" size="2" value="">
			</fieldset>
		</div>

		<div class="form-group">

			<fieldset>
				<legend style="padding-top:.5em; margin-bottom:.5em" class="required with-explanation" aria-required="true">When will you apply? <strong class="required" aria-required="true"><small>(required)</small></strong></legend>

				<label for="startdate" style="font-weight:normal; text-indent:.3em; "><small>You must apply <strong>on or after</strong> your last day at work</small> <span class="datepicker-format"> <small>(<abbr title="Four digits year, dash, two digits month, dash, two digits day">YYYY-MM-DD</abbr>)</small></span></label><br />

				<input class="form-control" type="date" id="startdate" name="startdate" />
			</fieldset>
		</div>

		<div style="padding-top:1.5em" id="calcbutton">
			<input type="button" name="fbsbmt" id="docalc" value="Get estimate" class="btn btn-success btn-lg" style="	font-size: 22px !important; padding-bottom: 40px !important;" >
		</div>
		</form>

		<div id="calcresults" style="display: none">
			<h3>Estimated results:</h3>
			<p>This is only an estimate. It's based on what you entered above. We can't tell exactly how much you will receive until your application is processed successfully.</p>

			<p>If you apply on <b><span id="fill-startdate"></span></b>, you should begin receiving payments around <b><span id="fill-benefitsstartdate"></span></b><!-- startdate+paydelay -->.</p>

			<p>Your <b>maternity benefits:</b></p>

				<ul>
			<li>are estimated at <b>$<span id="fill-matpayment"></span></b> per week</li>
				<li>will end around <b><span id="fill-matenddate"></span></b>, then switch to parental benefits </li>
			</ul>

			<p style="padding-top: 15px !important;">Your <b><span id="fill-benefittype"></span> parental benefits:</b>


<ul>
				<li>begin once your 15 weeks of maternity benefits end</li>
				<li>are estimated at <b>$<span id="fill-parpayment"></span></b> per week</li>
				<li>since you are sharing <span id="fill-sharedweeks"></span> week(s), will end in <span id="fill-totalweeks"></span> weeks</li>
				<li>will end around <b><span id="fill-parenddate"></span></b></li>

			</ul>



				<!-- <li><mark>You may be eligible for additional money through the <a href="">EI Family Supplement</a></mark></li> -->
				<p>Some employers provide additional money while you're on maternity or parental leave. This is called a top-up. Check with your employer to see if this applies to you.</p>

			<h4>If you took <span id="fill-altbenefittype"></span> parental benefits instead:</h4>
			<ul>
				<li>your parental benefits would begin around <b><span id="fill-matenddate2"></span></b></li>
				<li>your parental benefits would be estimated at <b>$<span id="fill-altparpayment"></span></b>  per week</li>
				<li>since you are sharing <span id="fill-sharedweeks2"></span> week(s), would end in <span id="fill-alttotalweeks"></span> weeks </li>
				<li>would end around <b><span id="fill-altparenddate"></span></b></li>
			</ul>
			<p>You can change values and recalculate to see updated results.</p>
			</div>

<br><p></p>
		<details style="margin-top: 75px !important;">
		<summary>EI maternity and parental formula for benefit calculation </summary>
		<h3 id="formula">Maternity benefits</h3>

		<p>For most people, the basic rate to calculate EI maternity benefits is 55% of your average insurable weekly earnings, up to a maximum amount. In 2018, the maximum amount is $547 a week.</p>

		<h3>Parental benefits</h3>
<p>The basic rate to calculate EI parental benefits depends on the payment option you choose:</p>

<p><b>Standard parental benefits</b> are paid at a weekly benefit rate of 55% of your average insurable weekly earnings, up to a maximum amount. In 2018, the maximum amount is $547 a week.</p>

<p><b>Extended parental benefits</b> are paid at a weekly benefit rate of 33% of your average weekly insurable earnings, up to a maximum amount. In 2018, the maximum amount is $328 per week. This amount can increase if you are eligible to receive the Family Supplement.</p>

<h3>Calculation of benefits</h3>

<p>The amount of weekly benefits is calculated as follows:</p>

<ul>
<li  >We calculate your total insurable earnings for the required number of best weeks (the weeks that you earned the most money, including insurable tips, bonuses and commissions) based on the information you provide and/or your Record(s) of Employment</li>
<li  >We divide your total insurable earnings for your best weeks by your required number of best weeks</li>
<li  >We then multiply the result by 55% for maternity benefits and for standard parental benefits or by 33% for extended parental benefits. This calculation gives us the amount of your weekly benefits.</li>
</ul>

<h3>If your weekly earnings vary or your income has changed</h3>

<p>In regions of Canada with the highest rates of unemployment, we will calculate using the best 14 weeks. In regions of Canada with the lowest rates of unemployment, we will use the best 22 weeks. In other regions, the number of weeks used to calculate benefits will be somewhere between 14 and 22, depending on the unemployment rate in those regions.</p>

<p> <a href="#bestweeks">Look up how many weeks</a> we will use to calculate your benefit.</p>



	<div id="family-supplement" >
			<h3 class="h4">If your family income is $25,921 or below</h3>

			<p>If we determine that your net family income is $25,921 or less per year, that you have children, and that you or your spouse receive the Canada Child Benefit, you may be eligible to receive the Family Supplement. Service Canada applies it automatically. No action is required from you.</p>

			<p>The amount of Family Supplement you receive depends on:</p>
			<ul>
			<li  >your net family income (up to the $25,921 yearly maximum)</li>
			<li  >the number of children in your family, and their ages</li>
			</ul>
	</div>
</details>

	</div>
			<div class="clearfix"></div>
				<nav role="navigation">
					<h2 class="wb-inv">Document navigation</h2>
					<ul class="pager">
						<li class="next">
							<a rel="next" href="./apply.html">Next (Apply)</a>
						</li>
					</ul>
				</nav>
			</div>


		</div>


</div>


</div>

</div>

	<div class="row pagedetails mrgn-tp-xl">

		<details class="brdr-0 col-sm-6 col-lg-4 mrgn-tp-sm">
		<summary class="btn btn-default text-center">Report a problem or mistake on this page</summary>
		</details>

		<div class="col-sm-3 mrgn-tp-sm pull-right">
		<summary class="btn btn-default text-center"><i class="fas fa-share-square"></i>&nbsp;Share this page</summary>
		</div>

		<div class="datemod col-xs-12 mrgn-tp-lg">
		<dl id="wb-dtmd">
		<dt>Date modified:</dt>
		<dd><time property="dateModified">2018-08-03</time></dd>
		</dl>
		</div>

	</div><!-- row pagedetails -->

</main>

<footer role="contentinfo" id="wb-info">

  <div class="parliament">

    <nav role="navigation" class="container wb-navcurr">

      <h2 class="wb-inv">About government</h2>

      <ul class="list-unstyled colcount-sm-2 colcount-md-3">
      <li ><a href="https://www.canada.ca/en/contact.html" class="footer-text">Contact us</a></li>
      <li><a href="https://www.canada.ca/en/government/dept.html" class="footer-text">Departments and agencies</a></li>
      <li><a href="https://www.canada.ca/en/government/publicservice.html" class="footer-text">Public service and military</a></li>
      <li><a href="https://www.canada.ca/en/news.html" class="footer-text">News</a></li>
      <li><a href="https://www.canada.ca/en/government/system/laws.html" class="footer-text">Treaties, laws and regulations</a></li>
      <li><a href="https://www.canada.ca/en/transparency/reporting.html" class="footer-text">Government-wide reporting</a></li>
      <li><a href="http://pm.gc.ca/eng" class="footer-text">Prime Minister</a></li>
      <li><a href="https://www.canada.ca/en/government/system.html" class="footer-text">How government works</a></li>
      <li><a href="http://open.canada.ca/en/" class="footer-text">Open government</a></li>
      </ul>

    </nav>

  </div><!-- parliament -->

  <div class="brand">

    <div class="container">

      <div class="row">

        <nav class="col-md-10 ftr-urlt-lnk">

          <h2 class="wb-inv">About this site</h2>

          <ul>
          <li><a href="https://www.canada.ca/en/social.html">Social media</a></li>
          <li><a href="https://www.canada.ca/en/mobile.html">Mobile applications</a></li>
          <li><a href="https://www.canada.ca/en/government/about.html">About Canada.ca</a></li>
          <li><a href="https://www.canada.ca/en/transparency/terms.html">Terms and conditions</a></li>
          <li><a href="https://www.canada.ca/en/transparency/privacy.html">Privacy</a></li>
          </ul>

        </nav>

        <div class="col-xs-6 visible-sm visible-xs tofpg">
        <a href="#wb-cont">Top of page <span class="fas fa-chevron-up"></span></a>
        </div>

        <div class="col-xs-6 col-md-1 col-lg-1 text-right">
        <object type="image/svg+xml" tabindex="-1" role="img" data="https://www.canada.ca/etc/designs/canada/wet-boew/assets/wmms-blk.svg" aria-label="Symbol of the Government of Canada"></object>
        </div>

      </div><!-- row -->

    </div><!-- container -->

  </div><!-- brand -->

</footer>

<!--[if gte IE 9 | !IE ]><!-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.js"></script>
<script src="https://www.canada.ca/etc/designs/canada/wet-boew/js/wet-boew.min.js"></script>
<script src="../../../assets/mobile-mm.js"></script>
<!--<![endif]-->
<!--[if lt IE 9]>
<script src="http://www.canada.ca/etc/designs/canada/wet-boew/js/ie8-wet-boew2.min.js"></script>
<![endif]-->

<script src="../../../js/jquery.menu-aim.js" type="text/javascript"></script>
<script src="../../../js/bootstrap.min.js" type="text/javascript"></script>
<script src="../../../js/scripts.js"></script>
<script src="../../../js/megamenu-loader.js"></script>
<!-- <script src="mat-par-estimator.js"></script> -->
<script>
// Declare variables here so available to other functions...I hope
var bestweeks;
var avgWeekly;
var shareType;

$(document).ready(
		function(){
				$("#postalcheck").click(function () {
					var pcode = document.getElementById("postalcode").value;
					var userPcode = document.getElementById("u-pcode");
					var userBestWeeks = document.getElementById("u-bestweeks");
					var userBestWeeks2 = document.getElementById("u-bestweeks2");
					var userBestWeeks3 = document.getElementById("u-bestweeks3");
					var userBestWeeks4 = document.getElementById("u-bestweeks4");
					// Take first three chars from pcode.value
					var pcode = (pcode.slice(0,3));
					//  * -- Do the lookup -- *
					// var bestWeeks;
					// For this to work, you'd have to take the table at http://srv129.services.gc.ca/eiregions/eng/rates_cur.aspx and
					// map every postal code to one of those places. Then you can scrape the file daily or whatever to get the current
					// value for each.
					// 1. Load the external datafile
					// 2. Find pcode in the prefixes
					// 3. use that to find the region
					// 4. then get the number of weeks for that region
					// For now we'll just fake it...



					bestWeeks = 20;
					userPcode.innerHTML = pcode;
					userBestWeeks.innerHTML = bestWeeks;
					userBestWeeks2.innerHTML = bestWeeks;
					userBestWeeks3.innerHTML = bestWeeks;
					userBestWeeks4.innerHTML = bestWeeks;
					$("#bestweeksresult").show("slow");

					// Now wait a beat and pose the next question
					setTimeout(function(){
						$("#askbestweekincome").show("slow");
						},1000);
					});
});

$(document).ready(
		function(){
				$("#averagecalc").click(function () {
						var totalEarnings = document.getElementById("earnings").value;
						var userTotalEarnings = document.getElementById("u-totalEarnings");
						var userAvgWeekly = document.getElementById("u-avgWeekly");
						var userWeeklyIncome = document.getElementById("weeklyincome");

						// Need to clean the user input a bit
						totalEarnings = totalEarnings.replace(/[^0-9.]/g, "");
						avgWeekly = totalEarnings / bestWeeks;
						userTotalEarnings.innerHTML = totalEarnings;
						userAvgWeekly.innerHTML = avgWeekly;
						$("#averageresult").show("slow");
						$("#ask-for-salary").hide();
						userWeeklyIncome.value = avgWeekly;
		});
});

$(document).ready(
	function(){
			$("input[name=leavetype]").on( "change", function() {
				shareType = $(this).val(); //sharetype becomes the ID of their choice
	 });
});

$(document).ready(
	function(){
			$("#docalc").click(function () {
					// Pull the needed values from the form
					var annualIncome = document.getElementById("annualincome").value; //will only be one of these 2
					var weeklyIncome = document.getElementById("weeklyincome").value;
					var userGivenDate = document.getElementById("startdate").value;
					var sharedWeeks = document.getElementById("sharedweeks").value;
					var calcButton = document.getElementById("docalc");

					// Prepare to populate fields in the results
					var fillStartDate = document.getElementById("fill-startdate");
					var fillBenefitsStartDate = document.getElementById("fill-benefitsstartdate");
					var fillMatPayment = document.getElementById("fill-matpayment");
					var fillParPayment = document.getElementById("fill-parpayment");
					var fillAltParPayment = document.getElementById("fill-altparpayment");
					var fillMatEndDate = document.getElementById("fill-matenddate");
					var fillMatEndDate2 = document.getElementById("fill-matenddate2");
					var fillParEndDate = document.getElementById("fill-parenddate");
					var fillAltParEndDate = document.getElementById("fill-altparenddate");
					var fillTotalWeeks = document.getElementById("fill-totalweeks");
					var fillAltTotalWeeks = document.getElementById("fill-alttotalweeks");
					var fillSharedWeeks = document.getElementById("fill-sharedweeks");
					var fillSharedWeeks2 = document.getElementById("fill-sharedweeks2");
					var fillBenefitType = document.getElementById("fill-benefittype");
					var fillAltBenefitType = document.getElementById("fill-altbenefittype");

					// Constants and other vars

					var getMaxBenefits = false;
					var maxIncome = 51700;
					var stdParPercent = ".55";
					var extParPercent = ".33";
					var matPercent = ".55";
					var matTotalWeeks = 15;
					var stdMaxWeeks = 35;
					var extMaxWeeks = 61;
					var stdSharedWeeks = 5;
					var extSharedWeeks = 8;
					var localeId = 'EN-CA';
					var familyIncomeMax = 25921; // this or below triggers Family income message
					var altTotalWeeks;
					var altParPercent;
					var sharedWeeks2;
					var weeksToGet;
					var parPercent;
					var fullIncome;
					var benefitType;
					var altBenefitType;

					if (shareType == 'standard') {
						benefitType = 'standard';
						parPercent = stdParPercent;
						altBenefitType = 'extended';
						altParPercent = extParPercent;

					} else if (shareType == 'extended') {
						benefitType = 'extended';
						parPercent = extParPercent;
						altBenefitType = 'standard';
						altParPercent = stdParPercent;

					} else {
						// It'd be good to do a real error here...
						alert("Please choose either standard or extended benefits");
					}

					if (weeklyIncome && annualIncome) {
						alert("Please enter only one of annual salary or weekly earnings");
					}

					if (weeklyIncome) {
						fullIncome = weeklyIncome * 52;
					} else if (annualIncome) {
						fullIncome = annualIncome;
					}

					if (fullIncome >= maxIncome) {
						fullIncome = maxIncome; // never more than $51,700.
					}

					// Here we know std or extended, and how much they make, up to 51700. So we can get their payments

					var matPayment = fullIncome / 52 * matPercent;
					var parPayment = fullIncome / 52 * parPercent;
					var altParPayment = fullIncome / 52 * altParPercent;
					matPayment = (Math.round(matPayment * 10)/10).toFixed(0); //rounded to nearest dollar
					parPayment = (Math.round(parPayment * 10)/10).toFixed(0);
					altParPayment = (Math.round(altParPayment * 10)/10).toFixed(0);

					// Get their total weeks
					// STD: if sharing less than 5, 35 weeks for 1 parent, 5 for other before subtracting from 1st
					// EXT: if sharing less than 8, 61 weeks for 1 parent, 8 for other before subtracting from 1st

					if (shareType == 'standard') {
						totalWeeks = (stdMaxWeeks + stdSharedWeeks) - sharedWeeks;
						altTotalWeeks = (extMaxWeeks + extSharedWeeks) - sharedWeeks;
						if (totalWeeks > stdMaxWeeks) {
							totalWeeks = stdMaxWeeks;
						}
						if (altTotalWeeks > extMaxWeeks) {
							altTotalWeeks = extMaxWeeks;
						}
					} else if (shareType == 'extended') {
						totalWeeks = (extMaxWeeks + extSharedWeeks) - sharedWeeks;
						altTotalWeeks = (stdMaxWeeks + stdSharedWeeks) - sharedWeeks;
						if (totalWeeks > extMaxWeeks) {
							totalWeeks = extMaxWeeks;
						}
						if (altTotalWeeks > stdMaxWeeks) {
							altTotalWeeks = stdMaxWeeks;
						}
					}
					// alert ("You get " + totalWeeks + " weeks of benefits.");

					// Now do the date stuff

					var oneWeek = 7*24*60*60*1000; // in milliseconds = days*hours*minutes*seconds*milliseconds
					var dateOptions = { year: 'numeric', month: 'long', day: 'numeric' };

					userGivenDate = userGivenDate + "T20:00:00-04:00"; // spec a timezone so it doesn't assume UTC
					var startDate = new Date(userGivenDate);

					var benefitsApplyDate = startDate.toLocaleDateString(localeId, dateOptions);
					var startDateSeconds = startDate.getTime();
					//startDateSeconds = startDateSeconds + oneWeek; //waiting period

					var benefitsStartDate = startDateSeconds + (oneWeek * 4);
					benefitsStartDate = new Date(benefitsStartDate);
					benefitsStartDate = benefitsStartDate.toLocaleDateString(localeId, dateOptions);

					var matEndDate = startDateSeconds + (oneWeek * (matTotalWeeks + 1)); // plus 1 because of the waiting period
					matEndDate = new Date(matEndDate);
					matEndDate = matEndDate.toLocaleDateString(localeId, dateOptions);
					matEndDate2 = matEndDate;

					var parEndDate = startDateSeconds + (oneWeek * (totalWeeks + matTotalWeeks + 1)); // make sure matTotalWeeks is 0 if parental only
					var altParEndDate = startDateSeconds + (oneWeek * (altTotalWeeks + matTotalWeeks + 1));
					parEndDate = new Date(parEndDate);
					altParEndDate = new Date(altParEndDate);
					parEndDate = parEndDate.toLocaleDateString(localeId, dateOptions);
					altParEndDate = altParEndDate.toLocaleDateString(localeId, dateOptions);

					// Start populating

					fillStartDate.innerHTML = benefitsApplyDate;
					fillBenefitsStartDate.innerHTML = benefitsStartDate;
					fillMatPayment.innerHTML = matPayment;
					fillParPayment.innerHTML = parPayment;
					fillAltParPayment.innerHTML = altParPayment;
					fillMatEndDate.innerHTML = matEndDate;
					fillMatEndDate2.innerHTML = matEndDate;
					fillParEndDate.innerHTML = parEndDate;
					fillAltParEndDate.innerHTML = altParEndDate;
					fillTotalWeeks.innerHTML = totalWeeks;
					fillAltTotalWeeks.innerHTML = altTotalWeeks;
					fillSharedWeeks.innerHTML = sharedWeeks;
					fillSharedWeeks2.innerHTML = sharedWeeks;
					fillAltBenefitType.innerHTML = altBenefitType;
					fillBenefitType.innerHTML = benefitType;

					// alert ("Date entered is: " + userGivenDate + ", which is " + startDate + ", or " + milliseconds + "milliseconds.");

					// Would be good to disable after clicking later
					// for now we'll just hide it so people see the results
					// $("#docalc").removeClass('btn btn-success btn-lg');
    			// $("#docalc").addClass('btn btn-lg');
					// $("#calcbutton").hide();

					$("#calcresults").show("slow");

					// document.getElementById("calcresults").scrollIntoView({
					//     behavior: "smooth", // or "auto" or "instant"
					//     block: "start" // or "end"
					// });;

			});
	});



</script>

<script src="https://gc-proto.github.io/ei-mat-parental/scenarioA/js/cannedsearch-querystring.js"></script>

</body>
</html>
